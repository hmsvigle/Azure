## 4.2 Implement Azure SQL databases:


*  <img src="https://user-images.githubusercontent.com/24938159/122638347-37751000-d111-11eb-91d1-3348311947ba.png" width="600">

*  <img src="https://user-images.githubusercontent.com/24938159/122659712-33400580-d198-11eb-9860-c476f2401339.png" width="800">

*  <img src="https://user-images.githubusercontent.com/24938159/122659805-2d96ef80-d199-11eb-986a-bf206682577e.png" width="800">

*  `Hyperscale` : Azure SQL Database has been limited to `4 TB` of storage per database. 
    *  Azure SQL Database Hyperscale changes the paradigm and allows for databases to be `100 TB or more`. 
    *  Hyperscale introduces new `Horizontal Scaling` techniques to add compute nodes as the data sizes grow.
    *  Once an Azure SQL Database is `converted` to Hyperscale, you `cannot convert` it back to a “regular” Azure SQL Database.


### 4.2.1 Configure Azure SQL database settings:

* Its a Public Resource.
* 

### 4.2.2 Implement Azure SQL Database managed instances

* Local N/W implementation is there.
* Its not a public service, rather use the local private VNET - subnet:`ManagedInstance`. Necessary Azure Sql Servers are deployed into a diff Subnet --> Major Security Feature
* To connect to the managed sql instance, we need to deploy VM on a diff subnet in the same Vnet.
* Connect to Managed Sql Instance from the VM by using the Public-IP of Managed instance.


<img src="https://user-images.githubusercontent.com/24938159/122639253-8c675500-d116-11eb-9afb-684e060ea3ed.png" width="600">

* **Elastic/Server-Side Transactions:**
  * Sometimes transaction takes place across multiple databases i.e `Server-Side Transaction`
  * Its supported in cse of below. Transaction fails --> Transactions across all dbs should rollback.
  
  <img src="https://user-images.githubusercontent.com/24938159/122640138-67c1ac00-d11b-11eb-9112-3b18f93ed863.png" width="500">



### 4.2.3 Configure HA for an Azure SQL database:

* HA can be enabled for Azure Sql DB with - `Active Geo-Replication`.
* This feature is `not supported` for Azure `Managed SQL instances`
* Data => Primary database in `Region-1` & `Secondary` DB can be on `Same/Diff Server` in `Region-2`. 
* Secondary DB Instance is readable mode.

* **Scenarios:**
  * Case-1: Data Written to Primary DB & Reports can be fetched from Data of Secondary DB.
  * Case-2: Failover

* **Configure:**

<img src="https://user-images.githubusercontent.com/24938159/122640439-2fbb6880-d11d-11eb-85df-39e3ed8502e1.png" width="500"> ==> <img src="https://user-images.githubusercontent.com/24938159/122640452-57aacc00-d11d-11eb-9dac-01060e2a87e8.png" width="400"> ==>  <img src="https://user-images.githubusercontent.com/24938159/122640714-a2791380-d11e-11eb-9f00-3501bc22c4e3.png" width="700">

* **Failover Groups:**
  
  * This Feature is available for `Azure Sql Server` not at `Azure SQL DB`.
  * Also available for Azure Managed SQL Instances.
  * Primary & Secondary `Server` can have multiple SQL DBs... We can create Failiver groups & select the group for failover
  * Failover can be done `Manually` / `Automatically` by `Policy`.
  * This Failover Groups feature is avaliable for `Active-Geo-Replication`
  * 
  <img src="https://user-images.githubusercontent.com/24938159/122641465-3baa2900-d123-11eb-976d-f3489df872dc.png" width="800"> 


  <img src="https://user-images.githubusercontent.com/24938159/122641496-4ebcf900-d123-11eb-9dbe-2bb744cb7f8f.png" width="800"> 

  



### 4.2.4 Publish an Azure SQL database:

