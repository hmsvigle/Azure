
## 1.1 Implement infrastructure monitoring

### 1.1.0 Azure Monitor:

  <img src="https://user-images.githubusercontent.com/24938159/123511800-1d9f7400-d6a1-11eb-9668-3a048b4ae1d6.png" width="500">
 
* Azure Monitor -> `Metrics` -> Select `Scope` (Subscription/RG/etc) --> Modify Metrics type

    <img src="https://user-images.githubusercontent.com/24938159/123512032-b1be0b00-d6a2-11eb-9f3e-d8ce41178143.png" width="600">
    <img src="https://user-images.githubusercontent.com/24938159/123512059-e9c54e00-d6a2-11eb-8880-63036afa9464.png" width="600">

* Azure Monitor -> `Activity Log` -> Filter type & see the logs

    <img src="https://user-images.githubusercontent.com/24938159/123512095-2bee8f80-d6a3-11eb-8242-e772e7ada2e0.png" width="600">


  <img src="https://user-images.githubusercontent.com/24938159/123511821-4c1d4f00-d6a1-11eb-85c9-f78e21059a1c.png" width="600">


### 1.1.1 Monitor Security:


### 1.1.2 Monitor Performance:


### 1.1.3 Monitor Health and Availability:


### 1.1.4 Monitor Cost:


### 1.1.5 Configure Advanced Logging:

* Log Analytics Workspace collects logs data from VMs & etc.
* Workspace can be deployed into Different Region, But Data transfer cost will be high. So advised to deploy in the same region as RG.
* LAW -> VMs -> Select VM -> Connect => Extension is installed (Agent) in VM to collect log

  <img src="https://user-images.githubusercontent.com/24938159/123513313-3eb89280-d6aa-11eb-8700-b4be489c4163.png" width="500">

* **Install Agent on VM**:
  
  <img src="https://user-images.githubusercontent.com/24938159/123513360-77f10280-d6aa-11eb-8a69-545cbc19b8b0.png" width="500">

* Enable Performance counters
* LAW --> `Agent configurations` --> Apply metrics (Counter)
  
  <img src="https://user-images.githubusercontent.com/24938159/123513806-e2a33d80-d6ac-11eb-9603-a40652fac0bb.png" width="500">
* Check Logs & Query logs:
  
  * LWA -> `Logs` -> `Query Logs` -> `Log Management` --> Tables created as per diff types of logs collected --> Pin to Dashboard

  <img src="https://user-images.githubusercontent.com/24938159/123514090-8d682b80-d6ae-11eb-9f70-340563d59a69.png" width="500">


### 1.1.6 Configure Logging for Workloads:


### 1.1.7 Initiate automated responses by using Action Groups:


### 1.1.8 Configure and manage advanced alerts:

### 1.1.8.1 Configure Alerts:

* Azure Monitor --> Alerts --> Select `Resource` , `Condition` , `Action Group` (Email/Alert/etc)

    <img src="https://user-images.githubusercontent.com/24938159/123512143-7a9c2980-d6a3-11eb-9188-2092e0af1396.png" width="500">
    <img src="https://user-images.githubusercontent.com/24938159/123512177-a6b7aa80-d6a3-11eb-9e1d-81be89a54fab.png" width="500">
    <img src="https://user-images.githubusercontent.com/24938159/123512210-c8b12d00-d6a3-11eb-891e-1b1ed2fd32e4.png" width="200">

### 1.1.8.2 Dynamic Alerts:

  <img src="https://user-images.githubusercontent.com/24938159/123512765-ecc23d80-d6a6-11eb-9fd6-7f093dd709f9.png" width="500">
    
 * Az Monitor --> Alerts --> New --> Select `Resource` --> `Condition` --> **`Enable Dynamic Alert`** 
   * Dynamically decides based on Hystorical data what should be the ideal threshold setting.
   
  <img src="https://user-images.githubusercontent.com/24938159/123512817-3b6fd780-d6a7-11eb-91c9-ce8597e361a1.png" width="600">
 
    


